/*** DEBUG ***/
.withOutline {
	outline: 1px solid black;
}

/*** PAGE ***/

html, body {
	height: 100%;
	min-height: 100%;

	color: white;
	font-family: Helvetica, Arial, sans-serif;

	overflow: hidden;
}

/* This gives us a centered background-cover version of the image which is overlayed with a semi-transparent black box.
   The idea for this originated from http://thatpaperdream.tumblr.com/, so credits to them for the original idea. */
html {
	/* Most of this could be written as a single CSS, but this makes it readable */
	background-color: white; /* Fallback, incase of weird dimensions */
	// background-image: url(); /* This will be set with inline CSS on the page */
	background-repeat: no-repeat;
	background-attachment: center;
	background-position: center;

	background-size: cover;
}
#overlay {
	z-index: -1; /* Stay on top of background, but behind everything else */
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;

	height: 100%;
	width: 100%;

	background-color: rgba(20, 20, 20, 0.5);
	// background-color: rgba(235, 235, 235, 0.5);
}

/*** INNERPAGE ***/

#main {
	padding: 8px 15px 0 15px;

	article {
		position: fixed;
		left: 0;
		// left: 50%;
		// margin: 0 0 0 -50%;

		max-height: ~"calc(100% - 15px - 5px - 5px - 26px)"; //15px padding-top + 5px top/bottom border + 26px footer
		height: 100%;
		width:  100%;

		text-align: center;

		#image {
			text-align: center;
			border: 5px solid rgba(15, 15, 15, 0.75);
			max-width: ~"calc(100% - 10px - 8px)"; //10px for border, extra 4+4px for optional padding
			max-height: 100%;
			vertical-align: middle;

			background-color: white; //Some images have some form of transparency. Make sure background is white in those cases
		}

		#info-block {
			text-align: center;
			width: 650px;
			overflow-y: scroll;

			background-color: rgba(255,255,255,0.8);
			color: black;

			height: ~"calc(100% - 40px)";
			max-width: ~"calc(100% - 8px)";
			max-height: 100%;

			display: inline-block;

			padding: 15px 0 15px 0;

			#history-2014, #history-2015 { width: 50%; }
			#history-2014 { float: left; }
			#history-2015 { float: right; }

			p {
				font-size: 11px;
				margin-top: 0;
				margin-bottom: 0;
			}
		}
		.about {
			// overflow-y: hidden !important;

			padding: 0 1em 0.5em 1em !important;
			max-width: ~"calc(100% - 4em)" !important;

			& h4 { margin-bottom: 6px; }
			& p, & a { font-size: 14px  !important; }
		}
	}

	footer {
		font-size: 14px;

		position: fixed;
		bottom: 0;
		left: 0;

		height: 26px;
		width: 100%;
		text-align: center;

		background-color: rgba(15, 15, 15, 0.75);

		div { display: inline; }

		a {
			color: white;
		
			text-decoration: initial;
			&:hover {
				text-decoration: underline;
			}
		}

		#footer-pagenav, #image-info, #footer-nav {
			background-color: rgba(15, 15, 15, 0.40);

			padding: 0 10px 0 10px;

			height: 26px;
			line-height: 26px;
		}

		#footer-pagenav {
			float: left;

			height: 26px;
			// width: 26px;

			margin-right: 6px;
	
			span, a {height: 26px; width: 26px; display: inline-block;}
			span { background-color: rgba(100,100,100, 0.50); }
			a:hover { text-decoration: none; }
		}

		#image-info {
			float: left;

			width: ~"calc(100% - 76px - 168px - 20px - 10px)";
			text-align: left;
			text-overflow: ellipsis;
			white-space: nowrap;
			overflow: hidden;

			#inline-name::before {
				color: white;
				content: " - ";
			}

			color: white;

			/* CUSTOM SETTINGS FOR modal.css */
			.modal-inner {
				height: auto;
				overflow-y: hidden;

				background-color: rgba(255,255,255,0.8);
				border-radius: 2px 0 2px 2px;
				color: black;
	
				.modal-content > pre { padding: 0 8px; }

				#image-artist-links {
					font-size: 14px;
					li {
						text-align: left;

						/* Here we add a bunch of text with CSS. Yay CSS. */
						/* Sadly content attr is overwritten, so we have to mess about here */

						[class^="a-"]::before               { color: black; }
						[class^="a-homepage"]::before       { content: 'Homepage' }
						[class^="a-blog"]::before           { content: 'Blog' }
						[class^="a-twitter"]::before        { content: 'Twitter' }
						[class^="a-twitpic"]::before        { content: 'Twitpic' }
						[class^="a-yfrog"]::before          { content: 'yFrog' }
						[class^="a-twipple"]::before        { content: 'Twipple' }
						[class^="a-pixiv"]::before          { content: 'Pixiv' }
						[class^="a-nijie"]::before          { content: 'Nijie' }
						[class^="a-tumblr"]::before         { content: 'Tumblr' }
						[class^="a-circlems"]::before       { content: 'Circlems' }
						[class^="a-doujinshi"]::before      { content: 'Doujinshi' }
						[class^="a-toranoana"]::before      { content: 'Toranoana' }
						[class^="a-melonbooks"]::before     { content: 'Melonbooks' }
						[class^="a-wikipedia"]::before      { content: 'Wikipedia' }
						[class^="a-tinami"]::before         { content: 'Tinami' }
						[class^="a-googleplus"]::before     { content: 'Google+' }
						[class^="a-youtube"]::before        { content: 'Youtube' }
						[class^="a-deviantart"]::before     { content: 'DeviantArt' }
						[class^="a-amazon"]::before         { content: 'Amazon' }
						[class^="a-facebook"]::before       { content: 'Facebook' }
						[class^="a-plurk"]::before          { content: 'Plurk' }
						[class^="a-hentai-foundry"]::before { content: 'Hentai Foundry' }
						[class^="a-patreon"]::before        { content: 'Patreon' }
						[class^="a-mixi"]::before           { content: 'Mixi' }
						[class^="a-dlsite"]::before         { content: 'DLSite' }
						[class^="a-dmm"]::before            { content: 'DMM' }
						[class^="a-drawr"]::before          { content: 'Drawr' }
						[class^="a-egloos"]::before         { content: 'Egloos' }
						[class^="a-exblog"]::before         { content: 'Exblog' }
						[class^="a-comiczin"]::before       { content: 'ComicZin' }
						[class^="a-mangaoh"]::before        { content: 'Mangaoh' }
						[class^="a-gamers"]::before         { content: 'Gamers Onlineshop' }
						[class^="a-baidu"]::before          { content: 'Baidu' }
						[class^="a-weibo"]::before          { content: 'Weibo' }
						[class^="a-lofter"]::before         { content: 'Lofter' }
						[class^="a-stickam"]::before        { content: 'Stickam' }

						[class^="a-"]  #langText::before    { color: black; }
						[class$="_jp"] #langText::before    { content: ' (JP)' }
						[class$="_cn"] #langText::before    { content: ' (CN)' }
						[class$="_kr"] #langText::before    { content: ' (KR)' }

						[class$="_dead"] #langText::before  { color: black; content: ' (Dead)' }

						[class^="a-"] #langText::after      { color: black; content: ': ' }

						a:after {
							text-decoration: underline;
							color: black;
							content: attr(href);
						}
					}
				}

				#thnks-footer {
					font-size: 11px;
					color: grey;
					padding: 0 8px;
				}
			}
			.modal-close:before { background: none !important; } //Remove default modal overlay background. It doesn't work on small resolution.
			#modal-show {
				background: rgba(0, 0, 0, 0.5);
				height: ~"calc(100% - 26px)"; //Hacky fix due to background change. Stops overlay on footer.
			}
			#modal-show:focus { outline: 0 } //Using above fix shows outline of modal-show, hide outline.
			/* This is the close button */
			.modal-close:after {
				color: black;
				background-color: rgba(255,255,255,0.8);
				padding: 3px 8px 0;
				border-radius: 2px 2px 0 0;
			}
		}
		#footer-nav {
			float: right;
			a { text-decoration: underline; }
		}
	}
}
